{"version":3,"file":"index.es.js","sources":["../node_modules/memoize-one/dist/memoize-one.esm.js","../src/FullpageSection.jsx","../src/FullpageNavigation.jsx","../node_modules/style-inject/dist/style-inject.es.js","../src/Fullpage.jsx"],"sourcesContent":["var simpleIsEqual = function simpleIsEqual(a, b) {\n  return a === b;\n};\n\nfunction index (resultFn) {\n  var isEqual = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : simpleIsEqual;\n\n  var lastThis = void 0;\n  var lastArgs = [];\n  var lastResult = void 0;\n  var calledOnce = false;\n\n  var isNewArgEqualToLast = function isNewArgEqualToLast(newArg, index) {\n    return isEqual(newArg, lastArgs[index]);\n  };\n\n  var result = function result() {\n    for (var _len = arguments.length, newArgs = Array(_len), _key = 0; _key < _len; _key++) {\n      newArgs[_key] = arguments[_key];\n    }\n\n    if (calledOnce && lastThis === this && newArgs.length === lastArgs.length && newArgs.every(isNewArgEqualToLast)) {\n      return lastResult;\n    }\n\n    calledOnce = true;\n    lastThis = this;\n    lastArgs = newArgs;\n    lastResult = resultFn.apply(this, newArgs);\n    return lastResult;\n  };\n\n  return result;\n}\n\nexport default index;\n","/**\n * @class FullpageSection\n */\nimport React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\n\nclass FullpageSection extends PureComponent {\n  static propTypes = {\n    children: PropTypes.node.isRequired,\n    height: PropTypes.string,\n    style: PropTypes.objectOf(PropTypes.oneOfType([\n      PropTypes.number,\n      PropTypes.string,\n      PropTypes.bool,\n    ])),\n    className: PropTypes.string,\n    onShow: PropTypes.func,\n    onHide: PropTypes.func,\n  };\n\n  static defaultProps = {\n    height: '100vh',\n    style: {},\n    className: '',\n    onShow: null,\n    onHide: null,\n  };\n\n  constructor(props) {\n    super(props);\n    this.ref = React.createRef();\n    this.state = {};\n    this.sectionDidShow = this.sectionDidShow.bind(this);\n    this.sectionDidHide = this.sectionDidHide.bind(this);\n  }\n\n  sectionDidShow() {\n    const { onShow } = this.props;\n    onShow();\n  }\n\n  sectionDidHide() {\n    const { onHide } = this.props;\n    onHide();\n  }\n\n  render() {\n    const {\n      children,\n      height,\n      style,\n      className,\n    } = this.props;\n\n    return (\n      <section className={className} style={{ height, ...style }} ref={this.ref}>\n        {children}\n      </section>\n    );\n  }\n}\n\nexport default FullpageSection;\n","/**\n * @class FullpageNavigation\n */\nimport React, { PureComponent } from 'react';\n\nclass FullpageNavigation extends PureComponent {\n  render() {\n    return (\n      <div>\n        <li>\n          1,2,3\n        </li>\n      </div>\n    );\n  }\n}\n\nexport default FullpageNavigation;\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","/**\n * @class Fullpage\n */\nimport React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport memoize from 'memoize-one';\nimport Section from './FullpageSection';\nimport Navigation from './FullpageNavigation';\n\nimport styles from './styles.css';\n\nclass Fullpage extends PureComponent {\n  static propTypes = {\n    children: PropTypes.node.isRequired,\n    transitionTiming: PropTypes.number,\n    warperStyle: PropTypes.objectOf(PropTypes.oneOfType([\n      PropTypes.number,\n      PropTypes.string,\n      PropTypes.bool,\n    ])),\n    style: PropTypes.objectOf(PropTypes.oneOfType([\n      PropTypes.number,\n      PropTypes.string,\n      PropTypes.bool,\n    ])),\n    className: PropTypes.string,\n    navigation: PropTypes.bool,\n    onChange: PropTypes.func,\n    keyboardShortcut: PropTypes.bool,\n  };\n\n  static defaultProps = {\n    transitionTiming: 700,\n    style: {\n      position: 'absolute',\n      left: 0,\n      right: 0,\n    },\n    warperStyle: {\n      position: 'fixed',\n      top: 0,\n      left: 0,\n      right: 0,\n    },\n    className: '',\n    navigation: false,\n    onChange: null,\n    keyboardShortcut: true,\n  };\n\n  constructor(props) {\n    super(props);\n    this.driver = React.createRef();\n    this.warperRef = React.createRef();\n    this.fullpageRef = React.createRef();\n    this.scrollTicking = false;\n    this.resizeTicking = false;\n    this.historyTimeout = null;\n    this.children = null;\n    this.slides = null;\n    this.state = {\n      translateY: 0,\n      currentSlide: null,\n    };\n    this.lastKnownScrollPosition = 0;\n    this.fullPageHeight = 0;\n    this.viewportHeight = 0;\n    this.onShow = {};\n    this.onHide = {};\n    this.handleScroll = this.handleScroll.bind(this);\n    this.handleResize = this.handleResize.bind(this);\n    this.handleKeys = this.handleKeys.bind(this);\n  }\n\n  componentDidMount() {\n    this.handleResize();\n    this.slides = this.getSlides(this.children);\n\n    this.setState({\n      currentSlide: this.slides[0],\n    });\n\n    if (typeof window !== 'undefined') {\n      window.addEventListener('scroll', this.handleScroll);\n      window.addEventListener('resize', this.handleResize);\n    }\n    if (typeof document !== 'undefined') {\n      document.addEventListener('keydown', this.handleKeys);\n    }\n  }\n\n  componentDidUpdate() { // prevProps\n    this.handleResize();\n    this.slides = this.getSlides(this.children);\n  }\n\n  componentWillUnmount() {\n    // set body height == to 'auto'\n    if (typeof window !== 'undefined') {\n      window.removeEventListener('scroll', this.handleScroll);\n      window.removeEventListener('resize', this.handleResize);\n    }\n    if (typeof document !== 'undefined') {\n      document.removeEventListener('keydown', this.handleKeys);\n    }\n  }\n\n  getChildren = memoize(\n    children => React.Children.map(children, (child) => {\n      const props = {};\n      if (child && child.type === Section) {\n        props.ref = React.createRef();\n      }\n      return React.cloneElement(child, props);\n    }),\n  );\n\n  getSlides = memoize(\n    children => children.filter(\n      child => (child.type && child.type === Section),\n    ).map((slide, index) => {\n      const el = slide.ref.current.ref.current;\n      return { slide, el, index };\n    }),\n  );\n\n  handleKeys(event) {\n    const { keyboardShortcut } = this.props;\n    if (!keyboardShortcut) {\n      return true;\n    }\n\n    if (\n      event.keyCode === 33 // pageUp:    33,\n      || event.keyCode === 37 // left:      37,\n      || event.keyCode === 38 // up:        38,\n    ) {\n      return (event.shiftKey) ? this.gotoFirst(event) : this.gotoPrevious(event);\n    }\n    if (\n      event.keyCode === 34 // pageDown:  34,\n      || event.keyCode === 39 // right:     39,\n      || event.keyCode === 40 // down:      40,\n    ) {\n      return (event.shiftKey) ? this.gotoLast(event) : this.gotoNext(event);\n    }\n    if (\n      event.keyCode === 35 // end:       35,\n    ) {\n      return this.gotoLast(event);\n    }\n    if (\n      event.keyCode === 36 // home:      36,\n    ) {\n      return this.gotoFirst(event);\n    }\n    return true;\n  }\n\n  handleScroll() {\n    if (!this.scrollTicking) {\n      window.requestAnimationFrame(() => {\n        const { currentSlide } = this.state;\n        const lastKnownScrollPosition = window.pageYOffset || 0;\n        const newSlide = this.slides.find(slide => (\n          lastKnownScrollPosition < slide.el.offsetTop + (slide.el.offsetHeight * 0.5)));\n        this.gotoSlide(newSlide, currentSlide);\n        this.lastKnownScrollPosition = lastKnownScrollPosition;\n        this.scrollTicking = false;\n      });\n    }\n    this.scrollTicking = true;\n  }\n\n  handleResize() {\n    if (!this.resizeTicking) {\n      window.requestAnimationFrame(() => {\n        this.viewportHeight = Math.max(\n          document.documentElement.clientHeight,\n          window.innerHeight || 0,\n        );\n        this.fullPageHeight = this.fullpageRef.current.clientHeight;\n        this.driver.current.style.height = `${this.fullPageHeight}px`;\n        this.resizeTicking = false;\n      });\n    }\n    this.resizeTicking = true;\n  }\n\n  gotoFirst(event) {\n    const { currentSlide } = this.state;\n    event.preventDefault();\n    this.gotoSlide(\n      this.slides[0],\n      currentSlide,\n      true,\n    );\n  }\n\n  gotoLast(event) {\n    const { currentSlide } = this.state;\n    event.preventDefault();\n    this.gotoSlide(\n      this.slides[this.slides.length - 1],\n      currentSlide,\n      true,\n    );\n  }\n\n  // @keydown( ['up', 'left'] )\n  gotoPrevious(event) {\n    const { currentSlide } = this.state;\n    event.preventDefault();\n    this.gotoSlide(\n      this.slides[Math.max(0, currentSlide.index - 1)],\n      currentSlide,\n      true,\n    );\n  }\n\n  // @keydown( ['down', 'right'] )\n  gotoNext(event) {\n    const { currentSlide } = this.state;\n    event.preventDefault();\n    this.gotoSlide(\n      this.slides[Math.min(this.slides.length - 1, currentSlide.index + 1)],\n      currentSlide,\n      true,\n    );\n  }\n\n  gotoSlide(newSlide, currentSlide, scrollTo = false) {\n    const { transitionTiming, onChange } = this.props;\n\n    // TODO: try an other coapraison ... exclude prop\n    if (currentSlide.index !== newSlide.index) {\n      const translateY = Math.max(\n        (this.fullPageHeight - this.viewportHeight) * -1,\n        newSlide.el.offsetTop * -1,\n      );\n\n      const previousSlide = currentSlide;\n      this.setState({\n        previousSlide,\n        currentSlide: newSlide,\n        translateY,\n      });\n\n      // TODO onShow onHide\n      if (previousSlide) {\n        const { onHide: previousSlideOnHide = null } = previousSlide.slide.props;\n        if (previousSlideOnHide && typeof previousSlideOnHide === 'function') {\n          setTimeout(() => previousSlideOnHide(translateY), transitionTiming);\n        }\n      }\n\n      const { onShow: newSlideOnShow = null } = newSlide.slide.props;\n      if (newSlideOnShow && typeof newSlideOnShow === 'function') {\n        newSlideOnShow(translateY);\n      }\n\n      if (scrollTo) {\n        window.scrollTo(0, newSlide.el.offsetTop);\n      }\n\n      onChange(this.state);\n    }\n  }\n\n  render() {\n    const {\n      children,\n      navigation,\n      style,\n      warperStyle,\n      className,\n      transitionTiming,\n    } = this.props;\n\n    this.children = this.getChildren(children);\n\n    const { translateY, previousSlide } = this.state;\n\n    return (\n      <div>\n        <div style={{ position: 'relative' }} ref={this.driver} />\n        <div className={styles.fullpageWarper} style={{ ...warperStyle }} ref={this.warperRef}>\n          <div\n            className={[styles.fullpage, className].join(', ')}\n            style={{\n              transition: `transform ${transitionTiming}ms cubic-bezier(0.645, 0.045, 0.355, 1.000)`,\n              ...style,\n              transform: `translate3D(0, ${(translateY)}px, 0)`,\n            }}\n            ref={this.fullpageRef}\n          >\n            { this.children }\n            { navigation && <Navigation data={children} previousSlide={previousSlide} /> }\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Fullpage;\n"],"names":["FullpageSection","props","ref","React","createRef","state","sectionDidShow","bind","sectionDidHide","onShow","onHide","children","height","style","className","PureComponent","propTypes","PropTypes","node","isRequired","string","objectOf","oneOfType","number","bool","func","defaultProps","FullpageNavigation","Fullpage","driver","warperRef","fullpageRef","scrollTicking","resizeTicking","historyTimeout","slides","lastKnownScrollPosition","fullPageHeight","viewportHeight","handleScroll","handleResize","handleKeys","getSlides","setState","window","addEventListener","document","removeEventListener","event","keyboardShortcut","keyCode","shiftKey","gotoFirst","gotoPrevious","gotoLast","gotoNext","requestAnimationFrame","currentSlide","pageYOffset","newSlide","find","slide","el","offsetTop","offsetHeight","gotoSlide","Math","max","documentElement","clientHeight","innerHeight","current","preventDefault","length","index","min","scrollTo","transitionTiming","onChange","translateY","previousSlide","previousSlideOnHide","newSlideOnShow","navigation","warperStyle","getChildren","position","styles","fullpageWarper","fullpage","join","Navigation","memoize","Children","map","child","type","Section","cloneElement","filter"],"mappings":"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"}